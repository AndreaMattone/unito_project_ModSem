<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>Music Mood</title>
   
    <meta charset="utf-8">
    <title>Delivery Doctor</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu+Mono&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/vue@3.0.2/dist/vue.global.js"></script>

    <!--Necessario per effettuare la query-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

  </head>
  <body>

    <button onclick="myFunction1()">Sparql1</button>
    <button onclick="myFunction2()">Sparql2</button>
    <button onclick="myFunction3()">Sparql3</button>
    <button onclick="myFunction4()">Sparql4</button>
    <button onclick="myFunction5()">Sparql5</button>

<p id="demo"></p>


<!--QUERY SPARQL 1 ############################################################-->
<script>

//questa funzione parte quando si clicca il bottone per la sparql query 1
function myFunction1() {
  document.getElementById("demo").innerHTML = "";
    Vue.createApp({
      
      data() {
            return {
                action: 0,
                names: [],
                secondSelection: '',
                result: null
            }
        },
        mounted() {
            this.loadRequiredData();
        },
        methods: {
            loadRequiredData() {
                const vue = this;

                let query = `PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
                            PREFIX owl: <http://www.w3.org/2002/07/owl#>
                            PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
                            PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
                            PREFIX mm: <http://www.semanticweb.org/matto/ontologies/2022/0/mattone_music#>
                            SELECT ?artista ?brano ?mood
                                WHERE { ?artista mm:autoreDi ?brano. ?brano mm:hasMood ?mood;}
                            `;

                $.ajax({
                    url: "http://localhost:7200/repositories/myRepo",
                    type: 'get',
                    dataType: "text",
                    data: {
                        query: query
                    },
                    success: function (result) {
                        const arr = result.split(/\r?\n/);
                        vue.names = arr.slice(1, arr.length - 1);
                        console.log(result)
                    }
                });
            }
        }
    }).mount('#app');
    
  }

</script>






<!--QUERY SPARQL 2 ############################################################-->
<script>
function myFunction2() {
  document.getElementById("demo").innerHTML = "";
    Vue.createApp({
      
      data() {
            return {
                action: 0,
                names: [],
                secondSelection: '',
                result: null
            }
        },
        mounted() {
            this.loadRequiredData();
        },
        methods: {
            loadRequiredData() {
                const vue = this;

                let query = `PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
                            PREFIX owl: <http://www.w3.org/2002/07/owl#>
                            PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
                            PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
                            PREFIX mm: <http://www.semanticweb.org/matto/ontologies/2022/0/mattone_music#>
                            SELECT ?artista ?brano ?mood
                                WHERE { ?artista mm:autoreDi ?brano.
                                                  ?brano mm:hasMood ?mood.
                                                  FILTER(?mood= mm:Intense)
                                                }
                            `;
                $.ajax({
                    url: "http://localhost:7200/repositories/myRepo",
                    type: 'get',
                    dataType: "text",
                    data: {
                        query: query
                    },
                    success: function (result) {
                        const arr = result.split(/\r?\n/);
                        vue.names = arr.slice(1, arr.length - 1);
                        console.log(result)
                    }
                });
            }
        }
    }).mount('#app');
    
  }

</script>





<!--QUERY SPARQL 3 ############################################################-->
<script>
function myFunction3() {
  document.getElementById("demo").innerHTML = "";
    Vue.createApp({
      
      data() {
            return {
                action: 0,
                names: [],
                secondSelection: '',
                result: null
            }
        },
        mounted() {
            this.loadRequiredData();
        },
        methods: {
            loadRequiredData() {
                const vue = this;

                let query = `PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
                            PREFIX owl: <http://www.w3.org/2002/07/owl#>
                            PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
                            PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
                            PREFIX mm: <http://www.semanticweb.org/matto/ontologies/2022/0/mattone_music#>
                            SELECT ?mood ?Sottogenere  ?brano
                                WHERE { ?artista mm:autoreDi ?brano.
                                        ?brano mm:haSottogenere ?Sottogenere.
                                        ?brano mm:hasMood ?mood.
                                        FILTER(?mood= mm:Intense)
                                                }
                            `;
                $.ajax({
                    url: "http://localhost:7200/repositories/myRepo",
                    type: 'get',
                    dataType: "text",
                    data: {
                        query: query
                    },
                    success: function (result) {
                        const arr = result.split(/\r?\n/);
                        vue.names = arr.slice(1, arr.length - 1);
                        console.log(result)
                    }
                });
            }
        }
    }).mount('#app');
    
  }

</script>




<!--QUERY SPARQL 4 ############################################################-->
<script>
function myFunction4() {
  document.getElementById("demo").innerHTML = "";
    Vue.createApp({
      
      data() {
            return {
                action: 0,
                names: [],
                secondSelection: '',
                result: null
            }
        },
        mounted() {
            this.loadRequiredData();
        },
        methods: {
            loadRequiredData() {
                const vue = this;

                let query = `PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
                            PREFIX owl: <http://www.w3.org/2002/07/owl#>
                            PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
                            PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
                            PREFIX mm: <http://www.semanticweb.org/matto/ontologies/2022/0/mattone_music#>
                            SELECT  ?mood (COUNT (?mood) as ?count)
                                WHERE { ?artista mm:autoreDi ?brano.
                                    ?brano mm:hasMood ?mood.
                                                    FILTER (?artista=mm:Genesis).
                            } 
                            GROUP BY ?mood
                            `;
                $.ajax({
                    url: "http://localhost:7200/repositories/myRepo",
                    type: 'get',
                    dataType: "text",
                    data: {
                        query: query
                    },
                    success: function (result) {
                        const arr = result.split(/\r?\n/);
                        vue.names = arr.slice(1, arr.length - 1);
                        console.log(result)
                    }
                });
            }
        }
    }).mount('#app');
    
  }

</script>


<!--QUERY SPARQL 5 ############################################################-->
<script>
function myFunction5() {
  document.getElementById("demo").innerHTML = "";
    Vue.createApp({
      
      data() {
            return {
                action: 0,
                names: [],
                secondSelection: '',
                result: null
            }
        },
        mounted() {
            this.loadRequiredData();
        },
        methods: {
            loadRequiredData() {
                const vue = this;

                let query = `PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
                            PREFIX owl: <http://www.w3.org/2002/07/owl#>
                            PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
                            PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
                            PREFIX mm: <http://www.semanticweb.org/matto/ontologies/2022/0/mattone_music#>
                            SELECT  ?genere ?mood (COUNT (?mood) as ?count)
                                WHERE { ?artista mm:autoreDi ?brano.
                                    ?brano mm:hasMood ?mood.
                                                                        ?brano mm:haSottogenere ?genere.
                            } 
                            GROUP BY ?genere ?mood

                            `;
                $.ajax({
                    url: "http://localhost:7200/repositories/myRepo",
                    type: 'get',
                    dataType: "text",
                    data: {
                        query: query
                    },
                    success: function (result) {
                        const arr = result.split(/\r?\n/);
                        vue.names = arr.slice(1, arr.length - 1);
                        console.log(result)
                    }
                });
            }
        }
    }).mount('#app');
    
  }

</script>




    <noscript>
      <strong>We're sorry but vue-hello-world doesn't work properly without JavaScript enabled. Please enable it to continue.</strong>
    </noscript>
    <div id="app"></div>
    <!-- built files will be auto injected -->
  </body>
</html>
